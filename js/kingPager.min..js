!function(a,b){function e(b,c){this.userOptions=c,this.defaultOptions=d,this.options=a.extend(!0,{},this.defaultOptions,this.userOptions),this.element=b||a("#"+this.options.pagerid),this.paintPagingHtml(this.options)}var d={pagerid:"kingPager",mode:"link",pno:1,total:1,totalRecords:0,isShowFirstPageBtn:!0,isShowLastPageBtn:!0,isShowPrePageBtn:!0,isShowNextPageBtn:!0,isShowCurrPage:!0,isShowTotalPage:!0,isShowTotalRecords:!0,isGoPage:!0,isWrapedPageBtns:!0,isWrapedInfoTextAndGoPageBtn:!0,hrefFormer:"kingPager",hrefLatter:".html",gopageWrapClass:"gopageWrap",gopageButtonClass:"gopageBtn",gopageTextClass:"gopageText",lang:{firstPageText:"首页",firstPageTipText:"首页",lastPageText:"尾页",lastPageTipText:"尾页",prePageText:"上一页",prePageTipText:"上一页",nextPageText:"下一页",nextPageTipText:"下一页",totalPageBeforeText:"共",totalPageAfterText:"页",currPageBeforeText:"当前第",currPageAfterText:"页",totalInfoSplitStr:"/",totalRecordsBeforeText:"共",totalRecordsAfterText:"条数据",gopageBeforeText:"转到",gopageButtonOkText:"确定",gopageAfterText:"页",buttonTipBeforeText:"第",buttonTipAfterText:"页"},click:function(a){return this.selectPage(a),!1},getHref:function(a){return"#"+a},getLink:function(a){return 1==a?this.hrefFormer+this.hrefLatter:this.hrefFormer+"_"+a+this.hrefLatter}};e.prototype={init:function(a){if(this.options.pno=isNaN(a.pno)?1:parseInt(a.pno),this.options.total=isNaN(a.total)?1:parseInt(a.total),this.options.totalRecords=isNaN(a.totalRecords)?0:parseInt(a.totalRecords),this._config||(this._config=a),a.pagerid&&(this.options.pagerid=a.pagerid),a.mode&&(this.options.mode=a.mode),a.gopageWrapClass&&(this.options.gopageWrapClass=a.gopageWrapClass),a.gopageButtonClass&&(this.options.gopageButtonClass=a.gopageButtonClass),a.gopageTextboxId&&(this.options.gopageTextboxId=a.gopageTextboxId),void 0!=a.isShowFirstPageBtn&&(this.options.isShowFirstPageBtn=a.isShowFirstPageBtn),void 0!=a.isShowLastPageBtn&&(this.options.isShowLastPageBtn=a.isShowLastPageBtn),void 0!=a.isShowPrePageBtn&&(this.options.isShowPrePageBtn=a.isShowPrePageBtn),void 0!=a.isShowNextPageBtn&&(this.options.isShowNextPageBtn=a.isShowNextPageBtn),void 0!=a.isShowTotalPage&&(this.options.isShowTotalPage=a.isShowTotalPage),void 0!=a.isShowCurrPage&&(this.options.isShowCurrPage=a.isShowCurrPage),void 0!=a.isShowTotalRecords&&(this.options.isShowTotalRecords=a.isShowTotalRecords),a.isWrapedPageBtns&&(this.options.isWrapedPageBtns=a.isWrapedPageBtns),a.isWrapedInfoTextAndGoPageBtn&&(this.options.isWrapedInfoTextAndGoPageBtn=a.isWrapedInfoTextAndGoPageBtn),void 0!=a.isGoPage&&(this.options.isGoPage=a.isGoPage),a.lang)for(var b in a.lang)this.options.lang[b]=a.lang[b];this.options.hrefFormer=a.hrefFormer||"",this.options.hrefLatter=a.hrefLatter||"",a.getLink&&"function"==typeof a.getLink&&(this.options.getLink=a.getLink),a.click&&"function"==typeof a.click&&(this.options.click=a.click),a.getHref&&"function"==typeof a.getHref&&(this.options.getHref=a.getHref),this.options.pno<1&&(this.options.pno=1),this.options.total=this.options.total<=1?1:this.options.total,this.options.pno>this.options.total&&(this.options.pno=this.options.total),this.options.prv=this.options.pno<=2?1:this.options.pno-1,this.options.next=this.options.pno>=this.options.total-1?this.options.total:this.options.pno+1,this.options.hasPrv=this.options.pno>1,this.options.hasNext=this.options.pno<this.options.total,this.inited=!0},selectPage:function(a){this._config["pno"]=a,this.paintPagingHtml(this._config,!0)},paintPagingHtml:function(a,b){var c,d,f,g,i,j,l,m,n,o,p,q,r;if((b||!this.inited)&&this.init(a),c="",d="",f="",g="",i="",j='<span class="spanDot">...</span>',this.options.isShowFirstPageBtn&&(c=this.options.hasPrv?"<a "+this._getHandlerStr(1)+' title="'+(this.options.lang.firstPageTipText||this.options.lang.firstPageText)+'">'+this.options.lang.firstPageText+"</a>":'<span class="disabled">'+this.options.lang.firstPageText+"</span>"),this.options.isShowPrePageBtn&&(d=this.options.hasPrv?"<a "+this._getHandlerStr(this.options.prv)+' title="'+(this.options.lang.prePageTipText||this.options.lang.prePageText)+'">'+this.options.lang.prePageText+"</a>":'<span class="disabled">'+this.options.lang.prePageText+"</span>"),this.options.isShowNextPageBtn&&(f=this.options.hasNext?"<a "+this._getHandlerStr(this.options.next)+' title="'+(this.options.lang.nextPageTipText||this.options.lang.nextPageText)+'">'+this.options.lang.nextPageText+"</a>":'<span class="disabled">'+this.options.lang.nextPageText+"</span>"),this.options.isShowLastPageBtn&&(g=this.options.hasNext?"<a "+this._getHandlerStr(this.options.total)+' title="'+(this.options.lang.lastPageTipText||this.options.lang.lastPageText)+'">'+this.options.lang.lastPageText+"</a>":'<span class="disabled">'+this.options.lang.lastPageText+"</span>"),l="",j='<span class="spanDot">...</span>',m='<span class="totalText">',n='<span class="totalInfoSplitStr">'+this.options.lang.totalInfoSplitStr+"</span>",this.options.isShowCurrPage?(m+=this.options.lang.currPageBeforeText+'<span class="currPageNum">'+this.options.pno+"</span>"+this.options.lang.currPageAfterText,this.options.isShowTotalPage?(m+=n,m+=this.options.lang.totalPageBeforeText+'<span class="totalPageNum">'+this.options.total+"</span>"+this.options.lang.totalPageAfterText):this.options.isShowTotalRecords&&(m+=n,m+=this.options.lang.totalRecordsBeforeText+'<span class="totalRecordNum">'+this.options.totalRecords+"</span>"+this.options.lang.totalRecordsAfterText)):this.options.isShowTotalPage?(m+=this.options.lang.totalPageBeforeText+'<span class="totalPageNum">'+this.options.total+"</span>"+this.options.lang.totalPageAfterText,this.options.isShowTotalRecords&&(m+=n,m+=this.options.lang.totalRecordsBeforeText+'<span class="totalRecordNum">'+this.options.totalRecords+"</span>"+this.options.lang.totalRecordsAfterText)):this.options.isShowTotalRecords&&(m+=this.options.lang.totalRecordsBeforeText+'<span class="totalRecordNum">'+this.options.totalRecords+"</span>"+this.options.lang.totalRecordsAfterText),m+="</span>",this.options.total<=8)for(o=1;o<=this.options.total;o++)l+=this.options.pno==o?'<span class="curr">'+o+"</span>":"<a "+this._getHandlerStr(o)+' title="'+this.options.lang.buttonTipBeforeText+o+this.options.lang.buttonTipAfterText+'">'+o+"</a>";else if(this.options.pno<=5)for(o=1;8>=o;o++)l+=this.options.pno==o?'<span class="curr">'+o+"</span>":"<a "+this._getHandlerStr(o)+' title="'+this.options.lang.buttonTipBeforeText+o+this.options.lang.buttonTipAfterText+'">'+o+"</a>";else{for(l+="<a "+this._getHandlerStr(1)+' title="'+this.options.lang.buttonTipBeforeText+"1"+this.options.lang.buttonTipAfterText+'">1</a>',l+=j,p=this.options.pno-2,q=this.options.pno+2,q>this.options.total?(q=this.options.total,p=q-4,this.options.pno-p<2&&(p-=1)):q+1==this.options.total&&(q=this.options.total),o=p;q>=o;o++)l+=this.options.pno==o?'<span class="curr">'+o+"</span>":"<a "+this._getHandlerStr(o)+' title="'+this.options.lang.buttonTipBeforeText+o+this.options.lang.buttonTipAfterText+'">'+o+"</a>";q!=this.options.total&&(l+=j,l+="<a "+this._getHandlerStr(this.options.total)+' title="'+this.options.lang.buttonTipBeforeText+this.options.total+this.options.lang.buttonTipAfterText+'">'+this.options.total+"</a>")}this.options.isGoPage&&(i="&nbsp;"+this.options.lang.gopageBeforeText+'<span class="'+this.options.gopageWrapClass+'">'+'<input type="button" class="'+this.options.gopageButtonClass+'" value="'+this.options.lang.gopageButtonOkText+'" />'+'<input type="text" class="'+this.options.gopageTextClass+'" value="'+this.options.next+'" /></span>'+this.options.lang.gopageAfterText),r="",r+=this.options.isWrapedPageBtns?'<span class="pageBtnWrap">'+c+d+l+f+g+"</span>":c+d+l+f+g,r+=this.options.isWrapedInfoTextAndGoPageBtn?'<span class="infoTextAndGoPageBtnWrap">'+m+i+"</span>":m+i,this.element.html(r),"click"==this.options.mode&&this._bindEventPaging(),this.options.isGoPage&&this._bindEventGoPage()},_bindEventPaging:function(){var b=this;this.element.find("a").off("click").on("click",function(){var c=a(this).attr("href").slice(1);b._clickHandler.call(b,c)})},_bindEventGoPage:function(){var a=this;this.element.find("."+this.options.gopageTextClass).off("focus blur keypress").on("focus blur keypress",function(b){"focus"==b.type?a.focus_gopage():"blur"==b.type?a.blur_gopage():"keypress"==b.type&&a.keypress_gopage()}),this.element.find("."+this.options.gopageButtonClass).off("focus blur keypress").on("focus blur keypress",function(){a.gopage()})},focus_gopage:function(){var a=this.element.find("."+this.options.gopageButtonClass),b=this.element.find("."+this.options.gopageTextClass);this.element.find("."+this.options.gopageWrapClass),b.attr("hideFocus",!0),a.css({left:"0px"}).show().animate({left:"+=40"},50)},blur_gopage:function(){var a=this.element.find("."+this.options.gopageButtonClass);this.element.find("."+this.options.gopageWrapClass),this.setTimeOutID&&clearTimeout(this.setTimeOutID),this.setTimeOutID=setTimeout(function(){a.animate({left:"-=40"},100,function(){a.css({left:"0px"}).hide()})},400)},keypress_gopage:function(){var a=arguments[0]||b.event,c=a.keyCode||a.charCode;return 13==c?(this.gopage(),!1):!a.ctrlKey||99!=c&&118!=c?48>c||c>57?!1:!0:!0},gopage:function(){var d,a=this.element.find("."+this.options.gopageTextClass),c=a.val();return isNaN(c)?(a.val(this.options.next),void 0):(d=parseInt(c),1>d&&(d=1),d>this.options.total&&(d=this.options.total),"click"==this.options.mode?this._clickHandler(d):b.location=this.options.getLink.call(this.options,d),void 0)},_getHandlerStr:function(a){return"click"==this.options.mode?'href="'+this.options.getHref(a)+'""':'href="'+this.options.getLink.call(this.options,a)+'"'},_clickHandler:function(a){var b=!1;return this.options.click&&"function"==typeof this.options.click&&(b=this.options.click.call(this,a)||!1),b}},b.kingPager=e,a.fn.kingPager=function(b){return this.each(function(){a(this).data("kingPager")||a(this).data("kingPager",new e(a(this),b))})}}(jQuery,window);